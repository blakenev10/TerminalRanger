#!/bin/bash

# Search for directories matching pattern cmake-build-*
BUILD_DIRS=$(find . -type d -name 'cmake-build-*')

# Check if any build directories were found
if [ -z "${BUILD_DIRS}" ]; then
    echo "No CMake build directories found to install."
    echo "Make sure build directories match the pattern 'cmake-build-*'"
    exit 1
else
    echo "Installing cmake builds:"
    for DIR in ${BUILD_DIRS}; do
        echo "  ${DIR}"
    done
fi

# Iterate over each build directory and run the install command
for DIR in ${BUILD_DIRS}; do
    sudo cmake --install "${DIR}"
done
